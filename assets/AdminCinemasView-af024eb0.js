import{c as k,q as p,o as a,e as s,b as o,f as g,h as d,i as h,d as i,t as x,u as D,r as $,l as w,F as u,k as C,j as B}from"./index-5ccc9495.js";import{o as L,r as M,d as N}from"./index-2c7431f0.js";import{u as V}from"./general-e95eafb2.js";import{g as f}from"./queriesFirestore-d3fa99f6.js";const S={class:"film-card position-relative"},A={class:"position-relative"},G={key:0,class:"image-upload__cross-btn-wrap"},j=o("i",{class:"fa-solid fa-circle-xmark fa-xl",style:{color:"#eb0000"}},null,-1),q=[j],E={class:"film-card__img-wrap mb-3"},F=["src","alt"],I={class:"text-center"},O={__name:"CinemaCard",props:{cinema:{type:Object,required:!0},canDelete:{type:Boolean,default:!0}},setup(c){const t=c,r="ua",e=k(()=>({id:t.cinema.id,...t.cinema[r]}));return(m,l)=>{const n=p("router-link");return a(),s("div",S,[o("div",A,[c.canDelete?(a(),s("div",G,[o("button",{onClick:l[0]||(l[0]=v=>m.$emit("delete")),type:"button",class:"image-upload__cross-btn cross-btn"},q)])):g("",!0),d(n,{to:{name:"admin-cinemas-page",params:{id:i(e).id}}},{default:h(()=>[o("div",E,[o("img",{src:i(e).logo.file,alt:i(e).name,class:"film-card__img"},null,8,F)]),o("div",I,x(i(e).name),1)]),_:1},8,["to"])])])}}},H={key:0,class:"overlay overlay-page"},P=o("i",{class:"fas fa-2x fa-sync-alt fa-spin"},null,-1),T=[P],U={key:0,class:"films-list d-flex flex-wrap mb-4"},W={class:"films-list__item mr-4"},R={__name:"AdminCinemasView",setup(c){const t=V(),r=D(),e=$([]);function m(n){return n!==0}function l(n){r.openModal({component:"PermissionModal",data:{title:"Підтвердження видалення",text:"Ви дійсно хочете видалити цей елемент?"}}).then(async()=>{t.isLoading=!0,await L(M(N,"cinemas",n)),e.value=await f("cinemas"),t.isLoading=!1})}return w(async()=>{e.value=await f("cinemas"),t.isLoading=!1}),(n,v)=>{const b=p("router-link");return i(t).isLoading?(a(),s("div",H,T)):(a(),s(u,{key:1},[e.value.length?(a(),s("ul",U,[(a(!0),s(u,null,C(e.value,(_,y)=>(a(),s("li",W,[d(O,{cinema:_,canDelete:m(y),onDelete:Y=>l(_.id),class:"col-3"},null,8,["cinema","canDelete","onDelete"])]))),256))])):g("",!0),d(b,{to:{name:"admin-cinemas-page"},class:"btn btn-info mb-4"},{default:h(()=>[B("Додати кінотеатр")]),_:1})],64))}}};export{R as default};
