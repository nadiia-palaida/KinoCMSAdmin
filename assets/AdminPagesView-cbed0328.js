import{h as w}from"./moment-fbc5633a.js";import{o as x,r as C,d as E}from"./index-2c7431f0.js";import{g as d}from"./queriesFirestore-d3fa99f6.js";import{u as D}from"./general-e95eafb2.js";import{u as L,r as P,l as S,q as V,d as B,o,e as n,b as e,h as u,i as _,F as f,k as G,f as m,j as Y,t as i}from"./index-5ccc9495.js";const j={key:0,class:"overlay overlay-page"},F=e("i",{class:"fas fa-2x fa-sync-alt fa-spin"},null,-1),T=[F],R={class:"d-flex justify-content-between"},q=e("div",{class:"d-flex justify-content-center w-100"},[e("h2",{class:"text-center"},"Список Сторінок")],-1),I={key:0,class:"table"},O=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Назва"),e("th",{scope:"col"},"Дата створення"),e("th",{scope:"col"},"Статус"),e("th",{scope:"col"}),e("th",{scope:"col"})])],-1),$={scope:"row"},z=e("i",{class:"fa-solid fa-pen"},null,-1),H=["onClick"],J=e("i",{class:"fa-solid fa-trash-can"},null,-1),K=[J],ae={__name:"AdminPagesView",setup(Q){const h="main",p="contacts",g="cafe",l=D(),b=L(),c=P([]),k="ua";function v(t){b.openModal({component:"PermissionModal",data:{title:"Підтвердження видалення",text:"Ви дійсно хочете видалити цей елемент?"}}).then(async()=>{l.isLoading=!0,await x(C(E,"pages",t)),c.value=await d("pages"),l.isLoading=!1})}function y(t){return t?"ВКЛ":"ВИКЛ"}function M(t){return t?w(t.toDate()).format("DD.MM.YYYY"):null}function N(t){let s=null;switch(t){case h:s="admin-pages-main";break;case p:s="admin-pages-contacts";break;case g:s="admin-pages-cafe";break;default:s="admin-pages-default"}return s}return S(async()=>{c.value=await d("pages"),l.isLoading=!1}),(t,s)=>{const r=V("router-link");return B(l).isLoading?(o(),n("div",j,T)):(o(),n(f,{key:1},[e("div",R,[q,u(r,{to:{name:"admin-pages-default"},class:"btn btn-info mb-4"},{default:_(()=>[Y("Створити сторінку")]),_:1})]),c.value.length?(o(),n("table",I,[O,e("tbody",null,[(o(!0),n(f,null,G(c.value,(a,A)=>(o(),n("tr",null,[e("th",$,i(A+1),1),e("td",null,i(a[k].name),1),e("td",null,i(M(a.created)),1),e("td",null,i(y(a.active)),1),e("td",null,[u(r,{to:{name:N(a.id),params:{id:a.id}}},{default:_(()=>[z]),_:2},1032,["to"])]),e("td",null,[a.canDelete?(o(),n("button",{key:0,onClick:U=>v(a.id),type:"button"},K,8,H)):m("",!0)])]))),256))])])):m("",!0)],64))}}};export{ae as default};
