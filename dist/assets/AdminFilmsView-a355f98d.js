import{t as w,s as b,d as T}from"./index-08899976.js";import{c as f,q as x,o as s,e as t,h as r,i as k,b as l,d as e,t as N,r as O,g as A,F as h,k as S,f as y,j as E}from"./index-57ff8659.js";import{u as V}from"./general-4d5aa9bd.js";const $={class:"film-card"},q={class:"film-card__img-wrap mb-3"},B=["src","alt"],C={class:"text-center"},g={__name:"FilmCard",props:{film:{type:Object,required:!0}},setup(u){const o=u,c="ua",a=f(()=>({id:o.film.id,type:o.film.type,status:o.film.status,...o.film[c]}));return(_,m)=>{const i=x("router-link");return s(),t("div",$,[r(i,{to:{name:"admin-films-page",params:{id:e(a).id}}},{default:k(()=>[l("div",q,[l("img",{src:e(a).poster.file,alt:e(a).name,class:"film-card__img"},null,8,B)]),l("div",C,N(e(a).name),1)]),_:1},8,["to"])])}}},F={key:0,class:"overlay overlay-page"},L=l("i",{class:"fas fa-2x fa-sync-alt fa-spin"},null,-1),G=[L],H={key:1},I=l("h3",{class:"text-center"},"Список фільмів в прокаті",-1),U={key:0,class:"films-list d-flex flex-wrap"},W={class:"films-list__item mr-4"},Y=l("h3",{class:"text-center"},"Список фільмів, які скоро вийдуть",-1),j={key:1,class:"films-list d-flex flex-wrap"},P={class:"films-list__item mr-4"},J={__name:"AdminFilmsView",setup(u){const o=O([]),c="isShow",a="showSoon",_=f(()=>o.value.filter(n=>n.status===c)),m=f(()=>o.value.filter(n=>n.status===a)),i=V();return A(async()=>{(await w(b(T,"films"))).forEach(p=>{o.value.push(p.data())}),i.isLoading=!1}),(n,p)=>{const v=x("router-link");return e(i).isLoading?(s(),t("div",F,G)):(s(),t("div",H,[r(v,{to:{name:"admin-films-page"},class:"btn btn-info mb-4"},{default:k(()=>[E("Додати фільм")]),_:1}),I,e(_).length?(s(),t("ul",U,[(s(!0),t(h,null,S(e(_),d=>(s(),t("li",W,[r(g,{film:d,class:"col-3"},null,8,["film"])]))),256))])):y("",!0),Y,e(m).length?(s(),t("ul",j,[(s(!0),t(h,null,S(e(m),d=>(s(),t("li",P,[r(g,{film:d,class:"col-3"},null,8,["film"])]))),256))])):y("",!0)]))}}};export{J as default};
