import{c as d,q as x,o as s,e as t,h as r,i as y,b as a,d as e,t as v,r as w,g as T,F as p,k as h,f as S,j as b}from"./index-5ccc9495.js";import"./index-2c7431f0.js";import{u as N}from"./general-e95eafb2.js";import{g as O}from"./queriesFirestore-d3fa99f6.js";const A={class:"film-card"},C={class:"film-card__img-wrap mb-3"},V=["src","alt"],$={class:"text-center"},g={__name:"FilmCard",props:{film:{type:Object,required:!0}},setup(u){const o=u,c="ua",l=d(()=>({id:o.film.id,type:o.film.type,status:o.film.status,...o.film[c]}));return(_,m)=>{const i=x("router-link");return s(),t("div",A,[r(i,{to:{name:"admin-films-page",params:{id:e(l).id}}},{default:y(()=>[a("div",C,[a("img",{src:e(l).poster.file,alt:e(l).name,class:"film-card__img"},null,8,V)]),a("div",$,v(e(l).name),1)]),_:1},8,["to"])])}}},B={key:0,class:"overlay overlay-page"},E=a("i",{class:"fas fa-2x fa-sync-alt fa-spin"},null,-1),F=[E],L={key:1},G=a("h3",{class:"text-center"},"Список фільмів в прокаті",-1),H={key:0,class:"films-list d-flex flex-wrap"},I={class:"films-list__item mr-4"},U=a("h3",{class:"text-center"},"Список фільмів, які скоро вийдуть",-1),W={key:1,class:"films-list d-flex flex-wrap"},Y={class:"films-list__item mr-4"},z={__name:"AdminFilmsView",setup(u){const o=w([]),c="isShow",l="showSoon",_=d(()=>o.value.filter(n=>n.status===c)),m=d(()=>o.value.filter(n=>n.status===l)),i=N();return T(async()=>{o.value=await O("films"),i.isLoading=!1}),(n,j)=>{const k=x("router-link");return e(i).isLoading?(s(),t("div",B,F)):(s(),t("div",L,[r(k,{to:{name:"admin-films-page"},class:"btn btn-info mb-4"},{default:y(()=>[b("Додати фільм")]),_:1}),G,e(_).length?(s(),t("ul",H,[(s(!0),t(p,null,h(e(_),f=>(s(),t("li",I,[r(g,{film:f,class:"col-3"},null,8,["film"])]))),256))])):S("",!0),U,e(m).length?(s(),t("ul",W,[(s(!0),t(p,null,h(e(m),f=>(s(),t("li",Y,[r(g,{film:f,class:"col-3"},null,8,["film"])]))),256))])):S("",!0)]))}}};export{z as default};
