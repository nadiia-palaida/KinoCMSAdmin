import{o as b,r as v,d as y}from"./index-2c7431f0.js";import{g as r}from"./queriesFirestore-d3fa99f6.js";import{u as k}from"./general-e95eafb2.js";import{u as x,r as w,l as L,q as C,d as M,o,e as s,b as t,h as d,i as u,F as _,k as V,f as B,j as N,t as i}from"./index-5ccc9495.js";const S={key:0,class:"overlay overlay-page"},j=t("i",{class:"fas fa-2x fa-sync-alt fa-spin"},null,-1),P=[j],D={class:"d-flex justify-content-between"},F=t("div",{class:"d-flex justify-content-center w-100"},[t("h2",{class:"text-center"},"Список акцій")],-1),q={key:0,class:"table"},A=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"#"),t("th",{scope:"col"},"Назва"),t("th",{scope:"col"},"Дата створення"),t("th",{scope:"col"},"Статус"),t("th",{scope:"col"}),t("th",{scope:"col"})])],-1),E={scope:"row"},G=t("i",{class:"fa-solid fa-pen"},null,-1),T=["onClick"],$=t("i",{class:"fa-solid fa-trash-can"},null,-1),z=[$],W={__name:"AdminPromotionsView",setup(H){const a=k(),p=x(),n=w([]),f="ua";function h(l){p.openModal({component:"PermissionModal",data:{title:"Підтвердження видалення",text:"Ви дійсно хочете видалити цей елемент?"}}).then(async()=>{a.isLoading=!0,await b(v(y,"promotions",l)),n.value=await r("promotions"),a.isLoading=!1})}function m(l){return l?"ВКЛ":"ВИКЛ"}return L(async()=>{n.value=await r("promotions"),a.isLoading=!1}),(l,J)=>{const c=C("router-link");return M(a).isLoading?(o(),s("div",S,P)):(o(),s(_,{key:1},[t("div",D,[F,d(c,{to:{name:"admin-promotions-page"},class:"btn btn-info mb-4"},{default:u(()=>[N("Створити акцію")]),_:1})]),n.value.length?(o(),s("table",q,[A,t("tbody",null,[(o(!0),s(_,null,V(n.value,(e,g)=>(o(),s("tr",null,[t("th",E,i(g+1),1),t("td",null,i(e[f].name),1),t("td",null,i(e.publication_date),1),t("td",null,i(m(e.active)),1),t("td",null,[d(c,{to:{name:"admin-promotions-page",params:{id:e.id}}},{default:u(()=>[G]),_:2},1032,["to"])]),t("td",null,[t("button",{onClick:K=>h(e.id),type:"button"},z,8,T)])]))),256))])])):B("",!0)],64))}}};export{W as default};
