import{r as m,x as y,s as w,l as k,d as c,o as n,e as i,b as o,w as x,v as P,h as t,i as U,F as q}from"./index-5ccc9495.js";import{_ as D}from"./TabsComponent-2b439d40.js";import{a as B,_ as u,F}from"./InputComponent-926cc09d.js";import{_ as f}from"./TextareaComponent-3fceddef.js";import"./vee-validate-6f28d402.js";import"./index-dbcece3d.js";import{l as v}from"./languages-14535d94.js";import{V as L,r as S,d as R,b as C}from"./index-2c7431f0.js";import{u as M}from"./general-e95eafb2.js";import{a as $}from"./queriesFirestore-d3fa99f6.js";const I={key:0,class:"overlay overlay-page"},K=o("i",{class:"fas fa-2x fa-sync-alt fa-spin"},null,-1),N=[K],E={class:"d-flex"},G={class:"custom-control custom-switch custom-switch-lg admin__switch mr-4"},O=o("label",{class:"custom-control-label",for:"customSwitch1"},null,-1),T=o("div",{class:"mb-2"},"Телефони",-1),j={class:"seo-block"},z=o("h4",{class:"text-center mb-4"},"Seo блок",-1),A={type:"submit",class:"btn btn-success"},H={key:0,class:"spinner-border spinner-border-sm",role:"status"},J=o("span",{class:"sr-only"},"Loading...",-1),Q=[J],W={key:1},ie={__name:"MainPageView",setup(X){const p=M(),s=m(null),r=m(!1),e=m({id:"main",firstPhone:"",secondPhone:"",created:"",canDelete:!1,active:!0,ua:{name:"Головна сторінка",seo:{url:"",title:"",text:"",keywords:"",description:""}},ru:{name:"Главная страница",seo:{url:"",title:"",text:"",keywords:"",description:""}}}),V=y(),b=w();async function _(){if(B()){r.value=!0;let a={id:e.value.id,firstPhone:e.value.firstPhone,secondPhone:e.value.secondPhone,canDelete:e.value.canDelete,active:e.value.active};for(let d in e.value)v.some(h=>h.value===d)&&(a={...a,created:b.params.id?e.value.created:L(),[d]:{...e.value[d]}});const l=S(R,"pages",e.value.id);await C(l,a),await V.replace({name:"admin-pages"}),r.value=!1}}return k(async()=>{s.value=v[0].value,e.value=await $("pages",e.value.id),p.isLoading=!1}),(g,a)=>c(p).isLoading?(n(),i("div",I,N)):(n(),i(q,{key:1},[o("div",E,[o("div",G,[x(o("input",{"onUpdate:modelValue":a[0]||(a[0]=l=>e.value.active=l),type:"checkbox",class:"custom-control-input",id:"customSwitch1"},null,512),[[P,e.value.active]]),O]),t(D,{modelValue:s.value,"onUpdate:modelValue":a[1]||(a[1]=l=>s.value=l),options:c(v),class:"mb-4"},null,8,["modelValue","options"])]),t(c(F),{onSubmit:_},{default:U(()=>[o("div",null,[T,t(u,{modelValue:e.value[s.value].firstPhone,"onUpdate:modelValue":a[2]||(a[2]=l=>e.value[s.value].firstPhone=l),name:"main-page-first-phone",rules:"required|digits:10",class:"col-6 mb-4"},null,8,["modelValue"]),t(u,{modelValue:e.value.secondPhone,"onUpdate:modelValue":a[3]||(a[3]=l=>e.value.secondPhone=l),name:"main-page-second-phone",rules:"required|digits:10",class:"col-6 mb-4"},null,8,["modelValue"])]),t(f,{modelValue:e.value[s.value].seo.text,"onUpdate:modelValue":a[4]||(a[4]=l=>e.value[s.value].seo.text=l),name:"main-page-description",label:"Опис",rules:"required",class:"mb-4"},null,8,["modelValue"]),o("div",j,[z,t(u,{modelValue:e.value[s.value].seo.url,"onUpdate:modelValue":a[5]||(a[5]=l=>e.value[s.value].seo.url=l),name:"seo-url",label:"URL",rules:"required",class:"mb-4"},null,8,["modelValue"]),t(u,{modelValue:e.value[s.value].seo.title,"onUpdate:modelValue":a[6]||(a[6]=l=>e.value[s.value].seo.title=l),name:"seo-title",label:"Title",rules:"required",class:"mb-4"},null,8,["modelValue"]),t(u,{modelValue:e.value[s.value].seo.keywords,"onUpdate:modelValue":a[7]||(a[7]=l=>e.value[s.value].seo.keywords=l),name:"seo-keywords",label:"Keywords",rules:"required",class:"mb-4"},null,8,["modelValue"]),t(f,{modelValue:e.value[s.value].seo.description,"onUpdate:modelValue":a[8]||(a[8]=l=>e.value[s.value].seo.description=l),name:"seo-description",label:"Description",rules:"required",class:"mb-4"},null,8,["modelValue"])]),o("button",A,[r.value?(n(),i("div",H,Q)):(n(),i("span",W,"Зберегти"))])]),_:1})],64))}};export{ie as default};
