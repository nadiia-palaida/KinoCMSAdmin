import{u as L,_ as C,F as O,v as B,a as D}from"./RadioComponent-19ad4cd0.js";import{o as d,e as c,b as t,t as y,f as I,F as N,r as S,d as g,g as b,c as M,h as F,w as $,v as P,i as h,j as E,k as R,a as q,l as T,m as w,n as j,p as G}from"./index-82815141.js";import{f as A,u as U,a as K,t as Y,s as z,b as H,r as W,d as V,c as J}from"./general-a8861d35.js";const Q={class:"input-group mb-4"},X={key:0,class:"input-group-prepend"},Z=["for"],ee=["value","name","id"],ae=["value"],se={key:1,class:"input__error"},te={__name:"SelectComponent",props:{label:{type:String},options:{type:Array,required:!0},modelValue:{},name:{type:String,required:!0},rules:{}},emits:["update:modelValue"],setup(i){const v=i,{errorMessage:l,value:f}=L(()=>v.name,v.rules);return(s,p)=>(d(),c("div",Q,[i.label?(d(),c("div",X,[t("label",{class:"input-group-text",for:i.name},y(i.label),9,Z)])):I("",!0),t("select",{value:i.modelValue,onChange:p[0]||(p[0]=m=>s.$emit("update:modelValue",m.target.value)),class:"custom-select",name:i.name,id:i.name},[(d(!0),c(N,null,S(i.options,m=>(d(),c("option",{value:m.value},y(m.label),9,ae))),256))],40,ee),g(l)?(d(),c("span",se,y(g(l)),1)):I("",!0)]))}},ne={class:"admin__section"},le={key:0,class:"text-center mb-4"},oe={class:"admin__block shadow-lg rounded p-3"},ie={class:"admin__switch-wrap"},ue={class:"custom-control custom-switch custom-switch-lg admin__switch ml-auto"},re=t("label",{class:"custom-control-label",for:"customSwitch1"},null,-1),de=t("div",{class:"mb-4"},"Размер: 1000х190",-1),ce={type:"button",class:"btn btn-info mb-4"},me={class:"admin__form-images mb-2"},ve={type:"submit",class:"btn btn-success"},fe={key:0,class:"spinner-border spinner-border-sm",role:"status"},pe=t("span",{class:"sr-only"},"Loading...",-1),be=[pe],_e={key:1},x={__name:"BannersMultiple",props:{bannersInfo:{type:Object,required:!0},loading:{type:Boolean,default:!1},title:{type:String},firebasePathName:{type:String,required:!0},hasText:{type:Boolean,default:!0}},emits:["saveChanges"],setup(i,{emit:v}){const l=i,f=[{label:"5",value:5},{label:"10",value:10},{label:"15",value:15},{label:"20",value:20},{label:"30",value:30}],s=b({active:!0,items:[],speed:0}),p=M(()=>s.value.items);function m(n,e){s.value.items[e]?s.value.items[e]=n:s.value.items.push(n)}function u(n){if(n.target.files.length)for(let e=0;e<n.target.files.length;e++)s.value.items.push({id:B(),fileId:B(),file:n.target.files[e],url:"",text:""})}function r(n){s.value.items.splice(n,1)}async function _(){let n=[];for(let a=0;a<s.value.items.length;a++){let o=s.value.items[a];n.push({id:o.id,fileId:o.fileId,file:await A(o.fileId,l.firebasePathName)?o.file:await U(`${l.firebasePathName}/${o.fileId}`,o.file),url:o.url,text:o.text})}s.value.items=n;const e={active:s.value.active,items:n,speed:s.value.speed};v("saveChanges",e)}return F(()=>{s.value=l.bannersInfo,s.value.speed||(s.value.speed=f[0].value)}),(n,e)=>(d(),c("section",ne,[i.title?(d(),c("h2",le,y(i.title),1)):I("",!0),t("div",oe,[t("div",ie,[t("div",ue,[$(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>s.value.active=a),type:"checkbox",class:"custom-control-input",id:"customSwitch1"},null,512),[[P,s.value.active]]),re])]),de,h(g(O),{onSubmit:_},{default:E(()=>[t("label",ce,[R(" Додати фото "),t("input",{onChange:u,type:"file",multiple:"",accept:"image/png, image/jpeg, image/jpg, image/webp, image/svg",class:"image-upload__input"},null,32)]),t("div",me,[g(p)?(d(!0),c(N,{key:0},S(g(p),(a,o)=>(d(),q(C,{modelValue:a,hasText:i.hasText,"onUpdate:modelValue":k=>m(k,o),onDeleteImage:k=>r(o),class:"mr-4 mb-4",key:`top-banner-image-${a.id}`},null,8,["modelValue","hasText","onUpdate:modelValue","onDeleteImage"]))),128)):I("",!0)]),h(te,{modelValue:s.value.speed,"onUpdate:modelValue":e[1]||(e[1]=a=>s.value.speed=a),options:f,label:"Швидкість каруселі",name:"top-banners-carousel-speed",class:"col-3"},null,8,["modelValue"]),t("button",ve,[i.loading?(d(),c("div",fe,be)):(d(),c("span",_e,"Зберегти"))])]),_:1})])]))}},he={class:"admin__section"},ge=t("h2",{class:"text-center mb-4"},"Банер на фоні",-1),ye={class:"admin__block shadow-lg rounded p-3"},$e=t("div",{class:"mb-4"},"Размер: 2000х3000",-1),Ie={class:"d-flex"},Ne=t("span",{class:"mr-2"},"Вибрати колір",-1),ke={type:"submit",class:"btn btn-success"},Be={key:0,class:"spinner-border spinner-border-sm",role:"status"},we=t("span",{class:"sr-only"},"Loading...",-1),Ve=[we],xe={key:1},Ce={__name:"BannerBackground",props:{bannersInfo:{type:Object,required:!0},loading:{type:Boolean,default:!1},firebasePathName:{type:String,required:!0}},emits:["saveChanges"],setup(i,{emit:v}){const l=i,f="photo",s="color",p=[{label:" Фото на фон",value:"photo"},{label:"Просто фон",value:"color"}],m=b(null),u=b({file:"",fileId:""}),r=b(null);async function _(){let n=null;r.value===f?(n=u.value,n.file=await A(u.value.fileId,l.firebasePathName)?u.value.file:await U(`${l.firebasePathName}/${u.value.fileId}`,u.value.file)):n=m.value;const e={type:r.value,banner:n};v("saveChanges",e)}return T(()=>{l.bannersInfo.type?(r.value=l.bannersInfo.type,l.bannersInfo.type===f?l.bannersInfo.banner&&l.bannersInfo.banner.hasOwnProperty("file")&&(u.value=l.bannersInfo.banner):l.bannersInfo.type===s&&(m.value=l.bannersInfo.banner)):r.value=p[0].value}),(n,e)=>(d(),c("div",he,[ge,t("div",ye,[$e,h(g(O),{onSubmit:_},{default:E(()=>[t("div",Ie,[h(D,{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=a=>r.value=a),options:p,name:"background-banner-radio",class:"mr-4"},null,8,["modelValue"]),$(h(C,{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=a=>u.value=a),hasUrl:!1,hasText:!1,class:"col-2"},null,8,["modelValue"]),[[w,r.value===f]]),$(t("div",null,[t("label",null,[Ne,$(t("input",{type:"color","onUpdate:modelValue":e[2]||(e[2]=a=>m.value=a)},null,512),[[j,m.value]])]),t("div",{class:"choose-color",style:G(`background: ${m.value}`)},null,4)],512),[[w,r.value===s]])]),t("button",ke,[i.loading?(d(),c("div",Be,Ve)):(d(),c("span",xe,"Зберегти"))])]),_:1})])]))}},Oe={key:0,class:"overlay overlay-page"},Se=t("i",{class:"fas fa-2x fa-sync-alt fa-spin"},null,-1),Ee=[Se],Le={__name:"AdminBannersView",setup(i){const v=b({}),l=K();b(!0);const f=b(!1),s=b(!1),p=b(!1),m=b({topBanners:[],newsBanners:[],backgroundBanner:[]}),u="topBanners",r="newsBanners",_="backgroundBanner";async function n(e,a){a===u?f.value=!0:a===r?s.value=!0:a===_&&(p.value=!0),await H(W(V,"banners",a),e),console.log("data",e),e.items.forEach(o=>{J(o.fileId,a)}),a===u?f.value=!1:a===r?s.value=!1:a===_&&(p.value=!1)}return T(async()=>{l.setLoading(!0),v.value=await Y(z(V,"banners")),v.value.forEach(e=>{v.value[e.id]=e.data(),m.value[e.id]=e.data()}),l.setLoading(!1)}),(e,a)=>g(l).isLoading?(d(),c("div",Oe,Ee)):(d(),c(N,{key:1},[h(x,{"banners-info":v.value[u],onSaveChanges:a[0]||(a[0]=o=>n(o,u)),firebasePathName:u,loading:f.value,title:"На головній верх",class:"mb-5"},null,8,["banners-info","loading"]),h(Ce,{"banners-info":v.value[_],firebasePathName:_,onSaveChanges:a[1]||(a[1]=o=>n(o,_)),class:"mb-5"},null,8,["banners-info"]),h(x,{"banners-info":v.value[r],hasText:!1,onSaveChanges:a[2]||(a[2]=o=>n(o,r)),firebasePathName:r,loading:s.value,title:"На головній новини, акції",class:"mb-5"},null,8,["banners-info","loading"])],64))}};export{Le as default};
