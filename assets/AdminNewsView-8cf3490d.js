import{o as v,r as y,d as w}from"./index-2c7431f0.js";import{u as k,r as x,l as r,q as L,d as C,o as s,e as a,b as t,h as d,i as u,F as _,k as N,f as M,j as V,t as c}from"./index-5ccc9495.js";import{u as B}from"./general-e95eafb2.js";import{g as f}from"./queriesFirestore-d3fa99f6.js";const S={key:0,class:"overlay overlay-page"},j=t("i",{class:"fas fa-2x fa-sync-alt fa-spin"},null,-1),D=[j],F={class:"d-flex justify-content-between"},q=t("div",{class:"d-flex justify-content-center w-100"},[t("h2",{class:"text-center"},"Список Новин")],-1),A={key:0,class:"table"},E=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"#"),t("th",{scope:"col"},"Назва"),t("th",{scope:"col"},"Дата створення"),t("th",{scope:"col"},"Статус"),t("th",{scope:"col"}),t("th",{scope:"col"})])],-1),G={scope:"row"},P=t("i",{class:"fa-solid fa-pen"},null,-1),T=["onClick"],$=t("i",{class:"fa-solid fa-trash-can"},null,-1),z=[$],W={__name:"AdminNewsView",setup(H){const e=B(),p=k(),n=x([]),h="ua";r(()=>{e.isLoading=!1});function m(l){p.openModal({component:"PermissionModal",data:{title:"Підтвердження видалення",text:"Ви дійсно хочете видалити цей елемент?"}}).then(async()=>{e.isLoading=!0,await v(y(w,"news",l)),n.value=await f("news"),e.isLoading=!1})}function g(l){return l?"ВКЛ":"ВИКЛ"}return r(async()=>{n.value=await f("news"),e.isLoading=!1}),(l,J)=>{const i=L("router-link");return C(e).isLoading?(s(),a("div",S,D)):(s(),a(_,{key:1},[t("div",F,[q,d(i,{to:{name:"admin-news-page"},class:"btn btn-info mb-4"},{default:u(()=>[V("Створити новину")]),_:1})]),n.value.length?(s(),a("table",A,[E,t("tbody",null,[(s(!0),a(_,null,N(n.value,(o,b)=>(s(),a("tr",null,[t("th",G,c(b+1),1),t("td",null,c(o[h].name),1),t("td",null,c(o.publication_date),1),t("td",null,c(g(o.active)),1),t("td",null,[d(i,{to:{name:"admin-news-page",params:{id:o.id}}},{default:u(()=>[P]),_:2},1032,["to"])]),t("td",null,[t("button",{onClick:K=>m(o.id),type:"button"},z,8,T)])]))),256))])])):M("",!0)],64))}}};export{W as default};
