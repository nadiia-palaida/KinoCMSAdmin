import{a as x,t as v,s as w,d as k}from"./general-611ead53.js";import{c as d,l as O,q as T,o as s,e as t,i as f,j as A,b as l,d as e,t as B,g as E,h as N,F as p,r as S,f as y}from"./index-4ab8acf7.js";const $={class:"film-card"},b={class:"film-card__img-wrap mb-3"},q=["src","alt"],C={class:"text-center"},g={__name:"FilmCard",props:{film:{type:Object,required:!0}},setup(u){const a=u,r="ua",o=d(()=>({id:a.film.id,type:a.film.type,status:a.film.status,...a.film[r]}));return O(()=>{}),(c,_)=>{const n=T("router-link");return s(),t("div",$,[f(n,{to:{name:"admin-films-page",params:{id:e(o).id}}},{default:A(()=>[l("div",b,[l("img",{src:e(o).poster.file,alt:e(o).name,class:"film-card__img"},null,8,q)]),l("div",C,B(e(o).name),1)]),_:1},8,["to"])])}}},F={key:0,class:"overlay overlay-page"},L=l("i",{class:"fas fa-2x fa-sync-alt fa-spin"},null,-1),V=[L],G={key:1},H=l("h3",{class:"text-center"},"Список фільмів в прокаті",-1),I={key:0,class:"films-list d-flex flex-wrap"},U={class:"films-list__item mr-4"},W=l("h3",{class:"text-center"},"Список фільмів, які скоро вийдуть",-1),Y={key:1,class:"films-list d-flex flex-wrap"},j={class:"films-list__item mr-4"},D={__name:"AdminFilmsView",setup(u){const a=E([]),r="isShow",o="showSoon",c=d(()=>a.value.filter(i=>i.status===r)),_=d(()=>a.value.filter(i=>i.status===o)),n=x();return N(async()=>{(await v(w(k,"films"))).forEach(h=>{a.value.push(h.data())}),n.isLoading=!1}),(i,h)=>e(n).isLoading?(s(),t("div",F,V)):(s(),t("div",G,[H,e(c).length?(s(),t("ul",I,[(s(!0),t(p,null,S(e(c),m=>(s(),t("li",U,[f(g,{film:m,class:"col-3"},null,8,["film"])]))),256))])):y("",!0),W,e(_).length?(s(),t("ul",Y,[(s(!0),t(p,null,S(e(_),m=>(s(),t("li",j,[f(g,{film:m,class:"col-3"},null,8,["film"])]))),256))])):y("",!0)]))}};export{D as default};
