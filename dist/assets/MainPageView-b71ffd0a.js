import{r as c,x as k,s as x,l as P,d as v,o as u,e as i,b as o,w as U,v as q,h as t,i as D,F as S}from"./index-49708047.js";import{u as F}from"./general-332ba11c.js";import{l as p,_ as L,a as V}from"./TextareaComponent-21f0aea7.js";import{a as R,_ as n,F as B}from"./vee-validate-c2eed9a0.js";import"./index-403c6953.js";import{r as b,d as _,J as C,V as M,c as $}from"./index-08899976.js";const J={key:0,class:"overlay overlay-page"},K=o("i",{class:"fas fa-2x fa-sync-alt fa-spin"},null,-1),N=[K],E={class:"d-flex"},G={class:"custom-control custom-switch custom-switch-lg admin__switch mr-4"},O=o("label",{class:"custom-control-label",for:"customSwitch1"},null,-1),T=o("div",{class:"mb-2"},"Телефони",-1),j={class:"seo-block"},z=o("h4",{class:"text-center mb-4"},"Seo блок",-1),A={type:"submit",class:"btn btn-success"},H={key:0,class:"spinner-border spinner-border-sm",role:"status"},I=o("span",{class:"sr-only"},"Loading...",-1),Q=[I],W={key:1},oe={__name:"MainPageView",setup(X){const f=F(),l=c(null),d=c(!1),e=c({id:"main",firstPhone:"",secondPhone:"",created:"",canDelete:!1,active:!0,ua:{name:"Головна сторінка",seo:{url:"",title:"",text:"",keywords:"",description:""}},ru:{name:"Главная страница",seo:{url:"",title:"",text:"",keywords:"",description:""}}}),g=k(),h=x();async function y(){if(R()){d.value=!0;let a={id:e.value.id,firstPhone:e.value.firstPhone,secondPhone:e.value.secondPhone,canDelete:e.value.canDelete,active:e.value.active};for(let m in e.value)p.some(w=>w.value===m)&&(a={...a,created:h.params.id?e.value.created:M(),[m]:{...e.value[m]}});const s=b(_,"pages",e.value.id);await $(s,a),await g.replace({name:"admin-pages"}),d.value=!1}}return P(async()=>{l.value=p[0].value;const r=b(_,"pages",e.value.id),a=await C(r);a.exists()&&(e.value=a.data()),f.isLoading=!1}),(r,a)=>v(f).isLoading?(u(),i("div",J,N)):(u(),i(S,{key:1},[o("div",E,[o("div",G,[U(o("input",{"onUpdate:modelValue":a[0]||(a[0]=s=>e.value.active=s),type:"checkbox",class:"custom-control-input",id:"customSwitch1"},null,512),[[q,e.value.active]]),O]),t(L,{modelValue:l.value,"onUpdate:modelValue":a[1]||(a[1]=s=>l.value=s),options:v(p),class:"mb-4"},null,8,["modelValue","options"])]),t(v(B),{onSubmit:y},{default:D(()=>[o("div",null,[T,t(n,{modelValue:e.value[l.value].firstPhone,"onUpdate:modelValue":a[2]||(a[2]=s=>e.value[l.value].firstPhone=s),name:"main-page-first-phone",rules:"required|digits:10",class:"col-6 mb-4"},null,8,["modelValue"]),t(n,{modelValue:e.value.secondPhone,"onUpdate:modelValue":a[3]||(a[3]=s=>e.value.secondPhone=s),name:"main-page-second-phone",rules:"required|digits:10",class:"col-6 mb-4"},null,8,["modelValue"])]),t(V,{modelValue:e.value[l.value].seo.text,"onUpdate:modelValue":a[4]||(a[4]=s=>e.value[l.value].seo.text=s),name:"main-page-description",label:"Опис",rules:"required",class:"mb-4"},null,8,["modelValue"]),o("div",j,[z,t(n,{modelValue:e.value[l.value].seo.url,"onUpdate:modelValue":a[5]||(a[5]=s=>e.value[l.value].seo.url=s),name:"seo-url",label:"URL",rules:"required",class:"mb-4"},null,8,["modelValue"]),t(n,{modelValue:e.value[l.value].seo.title,"onUpdate:modelValue":a[6]||(a[6]=s=>e.value[l.value].seo.title=s),name:"seo-title",label:"Title",rules:"required",class:"mb-4"},null,8,["modelValue"]),t(n,{modelValue:e.value[l.value].seo.keywords,"onUpdate:modelValue":a[7]||(a[7]=s=>e.value[l.value].seo.keywords=s),name:"seo-keywords",label:"Keywords",rules:"required",class:"mb-4"},null,8,["modelValue"]),t(V,{modelValue:e.value[l.value].seo.description,"onUpdate:modelValue":a[8]||(a[8]=s=>e.value[l.value].seo.description=s),name:"seo-description",label:"Description",rules:"required",class:"mb-4"},null,8,["modelValue"])]),o("button",A,[d.value?(u(),i("div",H,Q)):(u(),i("span",W,"Зберегти"))])]),_:1})],64))}};export{oe as default};
