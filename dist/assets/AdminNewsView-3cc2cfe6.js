import{u as v}from"./general-332ba11c.js";import{t as w,s as k,d as u,o as x,r as L}from"./index-08899976.js";import{u as N,r as M,l as C,g as S,q as V,d as B,o,e as n,b as t,h as _,i as f,F as h,k as j,f as q,j as E,t as c}from"./index-49708047.js";const F={key:0,class:"overlay overlay-page"},A=t("i",{class:"fas fa-2x fa-sync-alt fa-spin"},null,-1),D=[A],G={class:"d-flex justify-content-between"},P=t("div",{class:"d-flex justify-content-center w-100"},[t("h2",{class:"text-center"},"Список Новин")],-1),T={key:0,class:"table"},$=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"#"),t("th",{scope:"col"},"Назва"),t("th",{scope:"col"},"Дата створення"),t("th",{scope:"col"},"Статус"),t("th",{scope:"col"}),t("th",{scope:"col"})])],-1),z={scope:"row"},H=t("i",{class:"fa-solid fa-pen"},null,-1),J=["onClick"],K=t("i",{class:"fa-solid fa-trash-can"},null,-1),O=[K],Y={__name:"AdminNewsView",setup(Q){const s=v(),p=N(),l=M([]),m="ua";C(()=>{s.isLoading=!1});async function i(){const e=await w(k(u,"news"));l.value=[],e.forEach(d=>{l.value.push(d.data())})}function g(e){p.openModal({component:"PermissionModal",data:{title:"Підтвердження видалення",text:"Ви дійсно хочете видалити цей елемент?"}}).then(async()=>{s.isLoading=!0,await x(L(u,"news",e)),await i(),s.isLoading=!1})}function y(e){return e?"ВКЛ":"ВИКЛ"}return S(async()=>{await i(),s.isLoading=!1}),(e,d)=>{const r=V("router-link");return B(s).isLoading?(o(),n("div",F,D)):(o(),n(h,{key:1},[t("div",G,[P,_(r,{to:{name:"admin-news-page"},class:"btn btn-info mb-4"},{default:f(()=>[E("Створити новину")]),_:1})]),l.value.length?(o(),n("table",T,[$,t("tbody",null,[(o(!0),n(h,null,j(l.value,(a,b)=>(o(),n("tr",null,[t("th",z,c(b+1),1),t("td",null,c(a[m].name),1),t("td",null,c(a.publication_date),1),t("td",null,c(y(a.active)),1),t("td",null,[_(r,{to:{name:"admin-news-page",params:{id:a.id}}},{default:f(()=>[H]),_:2},1032,["to"])]),t("td",null,[t("button",{onClick:R=>g(a.id),type:"button"},O,8,J)])]))),256))])])):q("",!0)],64))}}};export{Y as default};
